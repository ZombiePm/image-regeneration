# Image Regeneration

Скрипт для генерации страниц детской книжки на основе эскизов с использованием Timeweb Cloud AI API (модель `gpt-image-1`).

## Как работает

1. Эскизы из папки `input/` отправляются на API Timeweb через Responses API с поддержкой стриминга
2. Модель `gpt-image-1` генерирует детализированные страницы книжки на основе каждого эскиза
3. Результаты сохраняются в папку `output/` в формате PNG

## Промт генерации

> Это эскиз страниц детской книжки. Сгенерируй страницу детской книжки на основе этого эскиза, используй в качестве главного персонажа девочку 8ми лет. Стиль изображений рисованный цветными карандашами, просто и приятный. На заднем плане сделай детскую комнату. Надписи должны остаться на том же языке. Персонаж должен быть одинаковый для всех версий картинок.

## Установка и запуск

### Требования
- Python 3.10+
- API-ключ Timeweb Cloud AI

### Настройка

Создайте файл `.env` в корне проекта:

```
TIMEWEB_API_BASE=https://agent.timeweb.cloud/api/v1/cloud-ai/agents/<agent_access_id>/v1
TIMEWEB_AGENT_ACCESS_ID=<your_agent_id>
TIMEWEB_API_TOKEN=<your_api_token>
```

### Запуск

```bash
python generate.py
```

Скрипт автоматически пропускает уже сгенерированные изображения (если файл уже существует в `output/`).

## Структура проекта

```
├── input/          # Исходные эскизы (JPG)
├── output/         # Сгенерированные страницы (PNG) — в .gitignore
├── generate.py     # Основной скрипт генерации
├── .env            # API-ключи — в .gitignore
└── .gitignore
```

## ☕ Support

Если проект оказался полезен:

| Network | Address |
|---------|---------|
| SOL | `BMvNKNK7zTRc6jQsdyUKFE6wFL6TJMKL1ZSRhW6pCpNJ` |
| ETH | `0x743d66E349270355200b958FC1caC8427a9efe04` |
| BTC | `bc1qset463vqdydrgpxy4m5hvke0cqvtlqztqrqw2v` |
